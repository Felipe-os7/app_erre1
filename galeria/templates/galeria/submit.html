{% extends 'base.html' %}

{% block content %}
<div class="contact-form-container">
  <h1>Enviar Obra</h1>
  <p style="text-align: center; color: var(--gray-muted); margin-bottom: 48px; font-weight: 300; letter-spacing: 0.5px;">
    Tu obra se publicará inmediatamente en la galería.
  </p>
  
  {% if form.errors %}
    <div style="background: var(--gray-light); border: 1px solid var(--gray-border); color: var(--black); padding: 20px; margin-bottom: 32px; font-size: 14px; font-weight: 300;">
      <strong style="display: block; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px; font-size: 13px;">Por favor corrige los siguientes errores:</strong>
      <ul style="margin: 8px 0 0 20px; list-style: none; padding: 0;">
        {% for field, errors in form.errors.items %}
          {% for error in errors %}
            <li style="margin-bottom: 4px;">• {{ error }}</li>
          {% endfor %}
        {% endfor %}
      </ul>
    </div>
  {% endif %}

  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    
    <div class="form-group mb-3">
      <label for="{{ form.title.id_for_label }}" class="form-label">{{ form.title.label }}</label>
      {{ form.title }}
      {% if form.title.errors %}
        <div class="text-danger" style="font-size: 12px; margin-top: 4px;">
          {{ form.title.errors }}
        </div>
      {% endif %}
    </div>

    {# category eliminado: las obras se publican como `Painting` directamente #}

    <div class="form-group mb-3">
      <label for="{{ form.description.id_for_label }}" class="form-label">{{ form.description.label }}</label>
      {{ form.description }}
      {% if form.description.errors %}
        <div class="text-danger" style="font-size: 12px; margin-top: 4px;">
          {{ form.description.errors }}
        </div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <label for="{{ form.image.id_for_label }}" class="form-label">{{ form.image.label }}</label>
      {{ form.image }}
      {% if form.image.errors %}
        <div class="text-danger" style="font-size: 12px; margin-top: 4px;">
          {{ form.image.errors }}
        </div>
      {% endif %}
    </div>

    <div class="row">
      <div class="col-md-6">
        <div class="form-group mb-3">
          <label for="{{ form.technique.id_for_label }}" class="form-label">{{ form.technique.label }}</label>
          {{ form.technique }}
          {% if form.technique.errors %}
            <div class="text-danger" style="font-size: 12px; margin-top: 4px;">
              {{ form.technique.errors }}
            </div>
          {% endif %}
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group mb-3">
          <label for="{{ form.dimensions.id_for_label }}" class="form-label">{{ form.dimensions.label }}</label>
          {{ form.dimensions }}
          {% if form.dimensions.errors %}
            <div class="text-danger" style="font-size: 12px; margin-top: 4px;">
              {{ form.dimensions.errors }}
            </div>
          {% endif %}
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
        <div class="form-group mb-3">
          <label for="{{ form.year.id_for_label }}" class="form-label">{{ form.year.label }}</label>
          {{ form.year }}
          {% if form.year.errors %}
            <div class="text-danger" style="font-size: 12px; margin-top: 4px;">
              {{ form.year.errors }}
            </div>
          {% endif %}
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group mb-3">
          <label for="{{ form.price.id_for_label }}" class="form-label">{{ form.price.label }}</label>
          {{ form.price }}
          {% if form.price.help_text %}
            <small class="form-text" style="color: var(--gray-muted); font-size: 12px; display: block; margin-top: 4px; font-weight: 300;">
              {{ form.price.help_text }}
            </small>
          {% endif %}
          {% if form.price.errors %}
            <div class="text-danger" style="font-size: 12px; margin-top: 4px;">
              {{ form.price.errors }}
            </div>
          {% endif %}
        </div>
      </div>
    </div>

    <button type="submit" class="btn btn-primary w-100 mt-3">Enviar Obra</button>
  </form>
</div>
{% endblock %}
