{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="contact-form-container">
  <h1>Agregar Noticia</h1>
  <p style="text-align: center; color: var(--gray-muted); margin-bottom: 48px; font-weight: 300; letter-spacing: 0.5px;">
    El envío será revisado por el administrador antes de publicarlo.
  </p>

  {% if form.errors %}
    <div style="background: var(--gray-light); border: 1px solid var(--gray-border); color: var(--black); padding: 20px; margin-bottom: 32px; font-size: 14px; font-weight: 300;">
      <strong style="display: block; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px; font-size: 13px;">Por favor corrige los siguientes errores:</strong>
      <ul style="margin: 8px 0 0 20px; list-style: none; padding: 0;">
        {% for field, errors in form.errors.items %}
          {% for error in errors %}
            <li style="margin-bottom: 4px;">• {{ error }}</li>
          {% endfor %}
        {% endfor %}
      </ul>
    </div>
  {% endif %}

  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    
    <div class="form-group mb-3">
      <label for="{{ form.title.id_for_label }}" class="form-label">{{ form.title.label }}</label>
      {{ form.title }}
      {% if form.title.errors %}
        <div class="text-danger" style="font-size: 12px; margin-top: 4px;">
          {{ form.title.errors }}
        </div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <label for="{{ form.content.id_for_label }}" class="form-label">{{ form.content.label }}</label>
      {{ form.content }}
      {% if form.content.errors %}
        <div class="text-danger" style="font-size: 12px; margin-top: 4px;">
          {{ form.content.errors }}
        </div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <label for="{{ form.link.id_for_label }}" class="form-label">{{ form.link.label }}</label>
      {{ form.link }}
      {% if form.link.help_text %}
        <small class="form-text" style="color: var(--gray-muted); font-size: 12px; display: block; margin-top: 4px; font-weight: 300;">
          {{ form.link.help_text }}
        </small>
      {% endif %}
      {% if form.link.errors %}
        <div class="text-danger" style="font-size: 12px; margin-top: 4px;">
          {{ form.link.errors }}
        </div>
      {% endif %}
    </div>

    <div class="form-group mb-4">
      <label for="{{ form.image.id_for_label }}" class="form-label">{{ form.image.label }}</label>
      {{ form.image }}
      {% if form.image.help_text %}
        <small class="form-text" style="color: var(--gray-muted); font-size: 12px; display: block; margin-top: 4px; font-weight: 300;">
          {{ form.image.help_text }}
        </small>
      {% endif %}
      {% if form.image.errors %}
        <div class="text-danger" style="font-size: 12px; margin-top: 4px;">
          {{ form.image.errors }}
        </div>
      {% endif %}
    </div>

    <button type="submit" class="btn btn-primary w-100 mt-3">Enviar Noticia</button>
  </form>
</div>
{% endblock %}
